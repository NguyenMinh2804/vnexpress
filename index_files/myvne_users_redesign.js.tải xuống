if(null==$.magnificPopup){var el=document.createElement("script");el.setAttribute("type","text/javascript"),el.setAttribute("src","https://s1.vnecdn.net/myvne/j/v1/lib/jquery.magnific-popup-1.1.min.js"),document.getElementsByTagName("head")[0].appendChild(el)}var defaultDomain="vnexpress.net";location.hostname.indexOf("ngoisao.net")>-1?defaultDomain="ngoisao.net":location.hostname.indexOf("ione.net")>-1&&(defaultDomain="ione.net");var cookieName="login_system",cookieValue=1;if(document.cookie.indexOf(cookieName+"="+cookieValue)<0){var myDate=new Date;myDate.setMonth(myDate.getMonth()+12),document.cookie=cookieName+"="+cookieValue+";expires="+myDate+";domain=."+defaultDomain+";path=/"}if(window.console||(console={log:function(){}}),void 0===device_env)var device_env=4;var isMyVne=window.location.href.includes("my."+defaultDomain),isIone=window.location.href.includes("//ione.net")||window.location.href.includes("//ione.vnexpress.net"),isVNE="demo.vnexpress.net"==window.location.hostname||"vnexpress.net"==window.location.hostname||"demo-my.vnexpress.net"==window.location.hostname||"my.vnexpress.net"==window.location.hostname,myvne_users={language:/(^e|-e)\.vnexpress/.test(location.hostname)?"en":"string"==typeof language?language:"vi",dictionary:{en:{"Đăng nhập":"Log In","Hoạt động bình luận":"Comment History","Tin đã lưu":"Saved Articles","Tin đã xem":"Reading History","Tài khoản của tôi":"My Account","Thoát":"Log Out","Xem thêm":"See more","Bạn chưa có hoạt động bình luận nào trên VnExpress":"You have no comments on VnExpress","Có lỗi xảy ra":"Errors, please try again","Gửi lại thành công":"Resend successful","Thông báo":"Notification","Mời xác thực email":"Please verify email","Để đảm bảo an toàn cho tài khoản và có thể lấy lại mật khẩu bằng email":"To ensure the safety of your account and to be able to retrieve your password by email","Xác thực ngay":"Verify now","Để xác thực email trên là của bạn":"To verify the above email is yours","Hãy nhớ kiểm tra hòm thư rác":"Remember to check your spam folder","Gửi lại email":"Resend email","Đang gửi":"Sending","Kiểm tra email":"Email sent to","Xác thực email":"Email Verification"}},domain:"."+defaultDomain,prefix_cookie:"myvne_",static_url:"https://s1.vnecdn.net/myvne",myvne_url:location.hostname.indexOf("demo-")>-1||location.hostname.indexOf("demo.")>-1||location.hostname.indexOf("demo-my.")>-1||location.hostname.indexOf("redesign.")>-1||location.hostname.indexOf("staging-e.vnexpress")>-1||location.hostname.indexOf("alpha-e.vnexpress")>-1?"https://demo-my."+defaultDomain:"https://my."+defaultDomain,vne_url:"https://"+defaultDomain,profile:{},notifycount:0,notifylimit:10,notifyoffset:0,windowWidth:0,taskbarload:{not_login:0,profile:0},listenloaded:0,timeoutprofile:"",timeoutClose:"",config:{},options:{taskbar:!0,type:"popup"},runloaded:0,callback:"",notify_max_time:0,callbackAction:{},divposition:"body",fullname:null,action:null,return_code:null,message:null,oauth_type:null,time_now:(new Date).getTime(),check_responsive:0,trackingSite:function(){return window.location.href.includes("//e.vnexpress.net")||window.location.href.includes("//staging-e.vnexpress.net/")?"eVne":"Vne"},cookieNameByHost:function(e){if("string"==typeof e&&""!=e){var n=location.host.match(/([^.]*)\.net/);n.length>0&&"vnexpress"!=n[1]&&(e+="_"+n[1])}return e},translate:function(e){return this.dictionary[this.language]&&this.dictionary[this.language][e]||e},setCallback:function(e,n){var t=this.callbackAction;return t[e]?-1==t[e].indexOf(n)&&t[e].push(n):t[e]=[n],this.callbackAction=t,"setcallback ok"},unsetCallback:function(e,n){var t=this.callbackAction;if(t[e]){if("authen"==e)return delete t[e];var o=t[e].indexOf(n);-1!=o&&t[e].splice(o,1)}return!1},processCallback:function(e,n){var t=this;"object"==typeof e&&$.each(e,(function(e,o){t.processCallback(o,n)}));var o=this.callbackAction;return o[e]&&$.each(o[e],(function(o,i){"authen"==e&&t.callbackAction[e].splice(o,1),t.runcallback(i,n)})),!1},addScripts:function(e,n,t,o){var i=document.createElement("script");i.type=void 0===o?"text/javascript":o,i.src=e,i.async=n,i.onload=function(){i.setAttribute("loaded","loaded"),"function"==typeof t&&t()},document.getElementsByTagName("head")[0].append(i)},getUrlParameter:function(e){var n,t,o=window.location.search.substring(1).split("&");for(t=0;t<o.length;t++)if((n=o[t].split("="))[0]===e)return void 0===n[1]||decodeURIComponent(n[1])},run:function(e){if(this.action=this.getUrlParameter("action"),this.return_code=this.getUrlParameter("return_code"),this.message=this.getUrlParameter("message"),void 0!==this.action&&"logged"===this.action&&void 0!==this.return_code&&"200"===this.return_code){if(this.oauth_type=this.getUrlParameter("oauth_type"),this.getprofile(),location.href.includes("?action=logged&return_code=200")){var n=location.href.replace("?action=logged&return_code=200","");window.history.replaceState(!1,!1,n)}else{n=location.href.replace("&action=logged&return_code=200","");window.history.replaceState(!1,!1,n)}myvne_users.syncWP("login")}else if(void 0!==this.action&&"logged_internal"===this.action&&void 0!==this.return_code&&"200"===this.return_code){if(this.oauth_type=this.getUrlParameter("oauth_type"),this.getprofile(),location.href.includes("?action=logged_internal&return_code=200")){n=location.href.replace("?action=logged_internal&return_code=200","");void 0!==this.oauth_type&&(n=1==this.getUrlParameter("onetap")?location.href.replace("?action=logged_internal&return_code=200&oauth_type="+this.oauth_type+"&onetap=1",""):location.href.replace("?action=logged_internal&return_code=200&oauth_type="+this.oauth_type,"")),window.history.replaceState(!1,!1,n)}else{n=location.href.replace("&action=logged_internal&return_code=200","");void 0!==this.oauth_type&&(n=location.href.replace("&action=logged_internal&return_code=200&oauth_type="+this.oauth_type,"")),window.history.replaceState(!1,!1,n)}myvne_users.syncWP("login")}else{var t=this.options;this.options=$.extend(!0,t,e||{});window.location.href.includes("demo."+defaultDomain);this._responsive(),this._check_javascript_exist(),parseInt(this.getCookie("user_id"))?this.getprofile():(this._html_taskbar_not_login(),this.processCallback("not_login",{type:1}),this.onetap()),this._listener_basic()}},syncWP:function(e){"undefined"!=typeof vneNotify&&("login"===e?setTimeout((function(){vneNotify.loginSubscriber(myvne_users.getCookieWitoutPrefix("orig_aid"),myvne_users.getCookieWitoutPrefix(myvne_users.cookieNameByHost("myvne_user_id"))),console.log("Push WP Login")}),2e3):"logout"===e&&(vneNotify.logoutSubscriber(myvne_users.getCookieWitoutPrefix("orig_aid")),console.log("Push WP Logout")))},onetap:function(){var e=this,n=encodeURIComponent(location.href.replace(/#.*?$/,""));n=e.isValidXSS(n)?n:encodeURIComponent(location.origin+location.pathname);var t='data-event-category="Article Link Display" data-event-action="Box-Google_Singin" data-event-label="Item-0" data-event-site="'+e.trackingSite()+'"';$("body").append('<div class="gaBoxLinkDisplay" '+t+' id="g_id_onload" data-client_id="63695605483-uh3lvelqpb59s1tn5qh59ovbcuhfa54v.apps.googleusercontent.com" data-context="use" data-state_cookie_domain="'+defaultDomain+'" data-prompt_parent_id="g_id_onload" data-url_one_tap="'+n+'" data-login_uri="'+e.myvne_url+'/openid/onetap" data-referer_url="'+location.href.replace(/#.*?$/,"")+'" style="position: fixed; top: 50px; right: 10px; z-index: 1001;"></div>'),e.addScripts("https://accounts.google.com/gsi/client",!1)},_responsive:function(){this.windowWidth=$(window).width()},getProfileData:function(e){return void 0!==e&&this.profile&&this.runcallback(e,this.profile),this.profile},getprofile:function(){var e=this;if(e.profile.user_fullname&&e.profile.user_id)return e.profile;var n=e.getCookie("user_id")+e.getCookie("just_updated");$.ajax({type:"get",dataType:"jsonp",data:n?{_:btoa(n).split("").reduce((function(e,n){return(e=(e<<5)-e+n.charCodeAt(0))&e}),0),user_id:e.getCookie("user_id")}:{},cache:!0,jsonpCallback:"MyvneCallback",url:e.myvne_url+"/authen/users/profile",success:function(n){if(0==n.error){var t=n.profile,o="undefined"!=typeof ZONE_ADS?parseInt(ZONE_ADS):0;void 0!==t.user_avatar&&1==o&&(t.user_avatar=t.user_avatar.replace("a.vnecdn.net","vcdn-a.vnecdn.net"),t.user_avatar_original=t.user_avatar_original.replace("a.vnecdn.net","vcdn-a.vnecdn.net")),e.notifycount=n.count_notify,e.profile=t;var i=localStorage.getItem("myvne_settings"),a=i?JSON.parse(i):null;if(t.settings&&!$.isEmptyObject(t.settings)?$.isEmptyObject(a)||null==a.thumb_mobile||a.thumb_mobile==t.settings.thumb_mobile?e.updateSettings(t.settings,!0):e.updateSettings({thumb_mobile:a.thumb_mobile}):$.isEmptyObject(a)||e.updateSettings(a),e.profilecallback(),null!=e.getCookie("social_id"))var s=e.getCookie("social_id").split("%2C");if(e.deleteCookie("social_id"),null!=e.oauth_type)(window._logAdp||[]).push({action:e.oauth_type,regis_on:window.location.origin,my_vne:t.user_id,vne_avatar:t.user_avatar,vne_email:t.user_email,vne_phone:t.mobile||"",vne_name:t.user_fullname||"",vne_gender:t.sex||0,vne_age:t.age,vne_birthday:t.date_of_birth,vne_city:t.city,vne_dist:t.district,vne_address:t.address,login_type:t.user_login_type,facebook_id:s[0]||"",google_id:s[1]||""});var r=setInterval((function(){$("#myvne_notify_lists").length>0&&(clearInterval(r),e._get_notify(!0))}),100);setTimeout((function(){clearInterval(r)}),3e3)}else"not_login"==n.rev&&e._reset_user();e.processCallback("profile",e.profile)},error:function(e,n){console.log(e,n)}});var t="undefined"!=typeof sessionStorage?parseInt(sessionStorage.getItem("myvne_check_user_online")):NaN;(isNaN(t)||Math.floor(Date.now()/1e3)-900>=t)&&$.ajax({type:"post",dataType:"jsonp",url:e.myvne_url+"/authen/users/updateusersession",success:function(e){0==e.error&&"undefined"!=typeof sessionStorage&&sessionStorage.setItem("myvne_check_user_online",Math.floor(Date.now()/1e3))},error:function(e,n){console.log(e,n)}})},profilecallback:function(){this._set_user(),$("#myvne_action_log").hide()},logout:function(){var e=this;return $.ajax({type:"post",dataType:"jsonp",url:e.myvne_url+"/authen/users/logout",data:{userid:e.user_id},success:function(n){0==n.error?(e.clearSettings(),localStorage.setItem("myvne_onetap",Math.floor(Date.now()/1e3)),e._reset_user(),e.deleteCookie("user_id"),sessionStorage.removeItem("myvne_check_user_online"),e.processCallback("logout",n),$(".message_box").length>0&&($(".message_box").remove(),localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),1)),"undefined"!=typeof myvne_plugins&&void 0!==myvne_plugins.initButton&&myvne_plugins.initButton(),"undefined"!=typeof dataLayer&&dataLayer.push({event:"userEvent",user_action:"User Logout",user_signup_method:"Email"}),(window._logAdp||[]).push({action:"logout",regis_on:location.origin}),myvne_users.syncWP("logout"),location.hostname.indexOf("my.vnexpress.net")>-1?location.pathname.indexOf("/en/")>-1?location.href="https://e.vnexpress.net/":location.href="https://vnexpress.net/":location.href=e.isValidXSS(location.href)?location.href:location.origin+location.pathname):alert(n.message)},error:function(n,t){alert(e._get_message("system_error"))}}),!1},_check_javascript_exist:function(){},set_time_topbar:function(){var e=new Date,n=new Array(7);n[0]="Chủ nhật",n[1]="Thứ hai",n[2]="Thứ ba",n[3]="Thứ tư",n[4]="Thứ năm",n[5]="Thứ sáu",n[6]="Thứ bảy";var t=n[e.getDay()],o=new Date,i=o.getDate(),a=o.getMonth()+1;o.getHours(),o.getMinutes();return t+", "+i+"/"+a+"/"+o.getFullYear()},_html_taskbar_not_login:function(){var e=this,n=this.set_time_topbar();if(!$("#myvne_taskbar").length)return!1;isIone?($("#myvne_taskbar").html('<div id="myvne" class="myvne_taskbar myvne_login_button"><a href="javascript:void(0);" class="log_txt" title="'+e.translate("Đăng nhập")+'"><svg class="icon-svg"><use xlink:href="#user"></use></svg></a></div>'),0==e.taskbarload.not_login&&($("#myvne_taskbar").on("click",".myvne_login_button",(function(){e._html_popup_login()})),e.taskbarload.not_login=1)):(isVNE?e.block_notify_vne.init():($("#myvne_taskbar").html('<div id="myvne" class="myvne_taskbar myvne_login_button"><a href="javascript:void(0);" class="log_txt" title="'+e.translate("Đăng nhập")+'"><svg class="ic ic-user"><use xlink:href="#User"></use></svg> '+e.translate("Đăng nhập")+"</a></div>"),isMyVne&&($(".time-now").html(n),$("#logoVneHeader").html('<img src="'+img_url_vne+'/v2_2019/pc/graphics/logo.svg" alt="VNExpress">'))),0==e.taskbarload.not_login&&($("#myvne_taskbar").on("click",".myvne_login_button",(function(){e._html_popup_login()})),e.taskbarload.not_login=1))},_notify_replace_url:function(){"beta.vnexpress.net"===location.host&&$("#myvne_notify_lists .myvne_nofify_item:not(.link_replaced)").each((function(){var e=$(this);e.find("a").each((function(){$(this).removeAttr("onclick");var n=$(this).attr("href"),t=n.split("/");if(n.indexOf("//vnexpress.net/")>-1&&n.indexOf(".html")>-1){var o="https://beta.vnexpress.net/"+t.pop();e.addClass("link_replaced"),$(this).attr("href",o)}}))}))},_get_notify_count:0,_get_notify:function(e=!1){var n=this;$(".myvne_nofify_item").length>0&&$(".myvne_nofify_item").length<n.notifylimit||$.ajax({type:"get",dataType:"jsonp",cache:!0,jsonpCallback:"MyvneCallback",data:{offset:n.notifyoffset,limit:n.notifylimit},url:n.myvne_url+"/authen/users/notify",success:function(t){if(0==t.error){n.notifyoffset=n.notifyoffset+n.notifylimit,$("#myvne_notify_lists .ss-content").length&&n._get_notify_count>0?($("#myvne_notify_lists .ss-content").append(t.html),n._notify_replace_url()):t.html.indexOf(n.translate("Bạn chưa có hoạt động bình luận nào trên VnExpress"))>-1?(!1,$("#myvne_notify_lists").css("height","auto"),$("#myvne_notify_lists").append('<li style="padding: 20px;">'+n.translate("Bạn chưa có hoạt động bình luận nào trên VnExpress")+"</li>")):($("#myvne_notify_lists").append(t.html),n._notify_replace_url()),$("#myvne_notify_count").remove(),$("#myvne_notify_lists").find(".myvne_loading").remove(),1==t.viewmore?($("#myvne_notify_viewmore_area").show(),$("#myvne_loading_viewmore").hide(),$("#myvne_notify_viewmore").show()):$("#myvne_notify_viewmore_area").remove(),n._get_notify_count++,$("#myvne_notify_lists").find(".myvne_nofify_item").find("a").length>0&&$("#myvne_notify_lists").find(".myvne_nofify_item").find("a").on("click",(function(e){e.preventDefault();var t=$(this).attr("data-id"),o=$(this).attr("href");t&&$.ajax({type:"get",dataType:"jsonp",data:{notify_id:t},url:n.myvne_url+"/authen/users/changenotifystatus",success:function(e){n._redirect(o)},error:function(){console.log(n._get_message("system_error"))}})})),!0===e&&n.checkNewNotify()}},error:function(e,t){console.log(n._get_message("system_error"))}})},_html_taskbar_profile:function(){var e=this,n=this.set_time_topbar();if(!$("#myvne_taskbar").length||"object"!=typeof e.profile||null==e.profile.user_avatar||void 0===e.profile.user_avatar)return!1;var t=e.profile.user_avatar.indexOf("/src/")>10?this.replaceAvatar(e.profile.user_avatar,"/c60x60/"):e.profile.user_avatar,o=e.profile.user_email.substring(0,e.profile.user_email.lastIndexOf("@"));if(e.fullname?o=e.fullname:e.profile.user_fullname&&e.profile.user_fullname.length>0&&(o=e.profile.user_fullname),t.indexOf("/img_60x60.gif")>0)var i=o.charAt(0);else i='<img src="'+t+'" width="25" height="25" alt="">';e.fullname=null;var a=e.myvne_url+("vi"==e.language?"/users/feed/":"/en/users/feed/")+e.profile.user_id,s=e.myvne_url+("vi"==e.language?"/users/tin-da-luu":"/en/users/saved-articles"),r=e.myvne_url+("vi"==e.language?"/users/tin-da-doc":"/en/users/reading-history"),l=e.myvne_url+("vi"==e.language?"/users/chi-tiet-tai-khoan":"/en/users/my-account"),c=e.myvne_url+("vi"==e.language?"/subscription/manage":"/en/subscription/manage"),m='        <div id="myvne" class="myvne_taskbar">            <div class="myvne_container" id="myvne_user_logged">              <ul class="myvne_form_log logged">                <li class="myvne_user" id="myvne_profile_tool">                  <a href="javascript:void(0);" id="myvne_avatar_taskbar" class="myvne_avatar">                    <span class="avatar_inner">'+i+'</span>                    <span class="name_user_av">'+e.removeXSS(o)+'</span>                  </a>                  <ul class="myvne_user_status" style="display:none;">                    <li class="li_bd li_account">                      <span class="avatar_sub">'+i+'</span>                        <span class="name_sub">'+e.removeXSS(o)+"</span>                    </li>"+("en"!=e.language?'<li><a id="myvne_update_profile_link" href="'+l+'" title="'+e.translate("Thông tin chung")+'">'+e.translate("Thông tin chung")+'</a></li><li><a href="'+a+'" title="'+e.translate("Ý kiến của bạn")+'">'+e.translate("Ý kiến của bạn")+'</a></li>                    <li><a href="'+s+'" title="'+e.translate("Tin đã lưu")+'">'+e.translate("Tin đã lưu")+'</a></li>                    <li class="li_bd"><a href="'+r+'" title="'+e.translate("Tin đã xem")+'">'+e.translate("Tin đã xem")+"</a></li>":"")+"                    "+("en"==e.language&&null!=e.profile.subscription?'<li class="li_bd"><a id="myvne_update_profile_link" href="'+c+'" title="'+e.translate("Subscription management")+'">'+e.translate("Subscription management")+"</a></li>                    ":"")+'<li><a href="javascript:void(0);" id="myvne_logout_link">'+e.translate("Thoát")+"</a></li>                  </ul>                </li>";"en"!=e.language&&(m+='<li class="myvne_notification" id="myvne_notify_show">                    <a class="myvne_icon_bell_click"><svg class="ic ic-bell"><use xlink:href="#Bell"></use></svg></a><span id="myvne_notify_area">',e.notifycount>0&&e.notifycount<9?m+='<span class="badged" id="myvne_notify_count">'+e.notifycount+"</span>":e.notifycount>9&&(m+='<span class="badged" id="myvne_notify_count">9+</span>'),m+='</span><div id="myvne_notify_box" class="myvne_content_notification" style="display:none;">                                <ul id="myvne_notify_lists" class="scrollbar-macosx">                                    <li class="myvne_loading">Loading</li>                                </ul>                                <ul id="myvne_notify_viewmore_area" style="display:none">                                    <span id="myvne_loading_viewmore" style="display: none;">Loading</span>                                    <a href="javascript:void(0);" id="myvne_notify_viewmore" class="myvne_notification-viewmore" style="display:none;">'+e.translate("Xem thêm")+"</a>                                </ul>                            </div>                            </li>"),m+='</ul>              <div class="clear"></div>            </div>        </div>        ',$("#myvne_taskbar").html(m),$("#fEmail").length&&($("#fEmail").val(e.profile.user_email),$("#fName").val(e.profile.user_fullname)),isMyVne&&($(".time-now").html(n),$("#logoVneHeader").html('<img src="'+img_url_vne+'/v2_2019/pc/graphics/logo.svg" alt="VNExpress">')),0==e.taskbarload.profile&&($("#myvne_taskbar").on("click","#myvne_logout_link",(function(){e.logout()})),$("#myvne_taskbar").on("click","#myvne_avatar_taskbar",(function(){$("#myvne_notify_box").hide(),$(".myvne_user_status").toggle()})),$(document).click((function(e){0==$(e.target).parents(".myvne_user").length&&0==$(e.target).parents(".myvne_user_status").length&&$(".myvne_user_status").hide()})),$("#myvne_taskbar").on("click",".myvne_icon_bell_click",(function(){$("#myvne_profile_tool").find(".myvne_user_status").hide(),"none"!==$("#myvne_notify_box").css("display")?($("#myvne_notify_box").hide(),$(this).parent().removeClass("active")):($("#myvne_notify_box").show(),$(this).parent().addClass("active"),($("#myvne_notify_lists").find(".myvne_loading").length||$("#myvne_notify_count").length)&&e._get_notify()),$("#myvne_notify_area").length>0&&e.updateStatusNewNotify()})),$("#myvne_taskbar").on("click","#myvne_notify_viewmore",(function(){$("#myvne_notify_viewmore").hide(),$("#myvne_loading_viewmore").show(),e._get_notify()})),e.taskbarload.profile=1)},_listener_basic:function(){var e=this;if(1==e.listenloaded)return!1;e.listenloaded=1;var n=function(n){if("https://my.vnexpress.net"==n.origin||"https://my.ione.net"==n.origin||"https://my.ngoisao.net"==n.origin||"https://demo-my.ione.net"==n.origin||"https://demo-my.ngoisao.net"==n.origin||"https://demo-my.vnexpress.net"==n.origin||"https://beta-my.ione.net"==n.origin||"https://beta-my.ngoisao.net"==n.origin||"https://beta-my.vnexpress.net"==n.origin){var t=n.data;switch(t){case"success":break;case"close":$.magnificPopup.close(),$("#iframe_register").length>0&&$("#iframe_register").remove();break;default:try{if(void 0!==(t=JSON.parse(t)).callback&&"login"==t.callback&&void 0!==t.profile&&"object"==typeof t.profile){e.login(t);break}if(void 0!==t.profile&&void 0===t.profile.user_avatar)break}catch(n){}if(1==t.success&&void 0!==t.callback)switch(t.callback){case"subscribe":case"changepassword":case"forgotpass":case"resendactiveemail":case"resetpassword":e._html_popup_success(t.message,t.title);break;case"register":e.login(t),void 0!==t.url_redirect?e._html_popup_success(t.message,t.title,(function(){location.href=t.url_redirect})):e._html_popup_success(t.message,t.title),e.deleteCookie("tmp_notify"),localStorage.removeItem(myvne_users.cookieNameByHost("myvne_tmp_notify")),e.deleteCookie("expired_notify"),e.deleteCookie("count_notify"),localStorage.removeItem(myvne_users.cookieNameByHost("myvne_count_notify")),setTimeout((function(){e._html_notify_confirm_email()}),3e4);break;default:return e[t.callback](t)}else if(t.refer)switch(t.refer){case"profile":e.profile=t.profile,e._set_user();break;case"login":e._reset_user()}else if(t.error){var o='<div class="width_common block_log block_log_onlytext">                                            <div class="width_common tit_box">                                                <p>'+t.message+"</p>                                            </div>                                        </div>";e._html_popup_success(o,t.title)}}}};window.addEventListener?window.addEventListener("message",n,!1):window.attachEvent&&window.attachEvent("onmessage",n)},resetpassword:function(e){this._html_popup_success(e.message,this.vne_url)},_html_popup_reset_password:function(e,n){if(!n||!e)return!1;return $.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_resetpass" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/resetpassword?userid="+e+"&tokenkey="+n,type:"iframe"},mainClass:"mfp-with-zoom mfp-myvne"}),!1},login:function(e){var n=this;if(window.myvne_new_register=null!=e.callback&&"register"==e.callback,null!=n.getCookie("social_id"))var t=n.getCookie("social_id").split("%2C");n.deleteCookie("social_id");var o=null;if("login"==e.callback?(void 0!==e.profile.login_myvne&&1==e.profile.login_myvne?(n.profile=e.profile.profile,n.notifycount=void 0!==n.profile.count_notify?n.profile.count_notify:0):(n.profile="object"==typeof e.profile?e.profile:{},n.notifycount=void 0!==n.profile.count_notify?n.profile.count_notify:0),o=function(){setTimeout((function(){myvne_users._get_notify(!0)}),800)}):(n.profile=e.profile,n.notifycount=e.count_notify),n.profilecallback(),$.magnificPopup.close(),setTimeout((function(){n._html_notify_confirm_email()}),3e3),$("#myvne_create_account").length>0&&$("#myvne_create_account").remove(),"undefined"!=typeof myvne_plugins&&(myvne_plugins.checking=0,myvne_plugins.check()),n.processCallback(["login","authen"],n.profile),user_signup_method="Email",5===n.profile.user_login_type&&(user_signup_method="Facebook"),6===n.profile.user_login_type&&(user_signup_method="Gmail"),"undefined"!=typeof dataLayer&&dataLayer.push({event:"userEvent",user_action:"User Login",user_signup_method:user_signup_method,user_id:e.profile.user_id}),1===e.success&&"register"==e.callback&&e.profile.user_id)(window._logAdp||[]).push({action:"register",regis_on:window.location.origin,my_vne:e.profile.user_id,vne_avatar:e.profile.user_avatar,vne_email:e.profile.user_email,vne_phone:e.profile.mibile||"",vne_name:e.profile.user_fullname||"",vne_gender:e.profile.sex||0,vne_age:e.profile.age,vne_birthday:e.profile.date_of_birth,vne_city:e.profile.city,vne_dist:e.profile.district,vne_address:e.profile.address,login_type:e.profile.user_login_type,facebook_id:void 0!==t&&void 0!==t[0]?t[0]:"",google_id:void 0!==t&&void 0!==t[1]?t[1]:""});else if(void 0!==e.adp&&void 0!==e.adp.my_vne){(window._logAdp||[]).push({action:e.adp.action,regis_on:window.location.origin,my_vne:e.adp.my_vne,vne_avatar:e.adp.vne_avatar,vne_email:e.adp.vne_email,vne_phone:e.adp.vne_phone||"",vne_name:e.adp.vne_name||"",vne_gender:e.adp.vne_gender||0,vne_age:e.adp.vne_age,vne_birthday:e.adp.vne_birthday,vne_city:e.adp.vne_city,vne_dist:e.adp.vne_dist,vne_address:e.adp.vne_address,login_type:e.profile.user_login_type,facebook_id:void 0!==t&&void 0!==t[0]?t[0]:"",google_id:void 0!==t&&void 0!==t[1]?t[1]:""})}myvne_users.syncWP("login"),isMyVne&&(1==window.myvne_new_register?setTimeout((function(){$.magnificPopup.instance.close=function(){location.reload()}}),3e3):location.reload()),o&&"function"==typeof o&&o()},guestpost:function(e){var n=this;n.profile=e.profile,$.magnificPopup.close(),n.processCallback("authen",n.profile)},isValidXSS:function(e){var n=!0;if(e)for(var t=["onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","oninput","onkeydown","onkeypress","onkeyup","onpaste","textInput","onabort","onbeforeunload","onhashchange","onload","onoffline","ononline","onreadystatechange","onstop","onunload","onreset","onsubmit","onclick","oncontextmenu","ondblclick","onlosecapture","onmouseenter","onmousedown","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onscroll","onmove","onmoveend","onmovestart","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onresize","onresizeend","onresizestart","onactivate","onbeforeactivate","onbeforedeactivate","onbeforeeditfocus","onblur","ondeactivate","onfocus","onfocusin","onfocusout","oncontrolselect","onselect","onselectionchange","onselectstart","onafterprint","onbeforeprint","onhelp","onerror","onerrorupdate","onafterupdate","onbeforeupdate","oncellchange","ondataavailable","ondatasetchanged","ondatasetcomplete","onrowenter","onrowexit","onrowsdelete","onrowsinserted","onbounce","onfinish","onstart","onchange","onfilterchange","onpropertychange","onsearch","onmessage","CheckboxStateChange","DOMActivate","DOMAttrModified","DOMCharacterDataModified","DOMFocusIn","DOMFocusOut","DOMMouseScroll","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","dragdrop","dragexit","draggesture","overflow","overflowchanged","RadioStateChange","underflow","FSCommand","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBouncewindow","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime","behavior","xss:expression","javascript","alert","<script>","<\/script>","livescript","vbscript","\x3c!--","--\x3e","<?php","document.domain","sTYLe"],o=0;o<t.length;o++){if(new RegExp(t[o],"gm").test(e)){n=!1;break}}return n},removeXSS:function(e){if(e)for(var n=["onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","oninput","onkeydown","onkeypress","onkeyup","onpaste","textInput","onabort","onbeforeunload","onhashchange","onload","onoffline","ononline","onreadystatechange","onstop","onunload","onreset","onsubmit","onclick","oncontextmenu","ondblclick","onlosecapture","onmouseenter","onmousedown","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onscroll","onmove","onmoveend","onmovestart","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","onresize","onresizeend","onresizestart","onactivate","onbeforeactivate","onbeforedeactivate","onbeforeeditfocus","onblur","ondeactivate","onfocus","onfocusin","onfocusout","oncontrolselect","onselect","onselectionchange","onselectstart","onafterprint","onbeforeprint","onhelp","onerror","onerrorupdate","onafterupdate","onbeforeupdate","oncellchange","ondataavailable","ondatasetchanged","ondatasetcomplete","onrowenter","onrowexit","onrowsdelete","onrowsinserted","onbounce","onfinish","onstart","onchange","onfilterchange","onpropertychange","onsearch","onmessage","CheckboxStateChange","DOMActivate","DOMAttrModified","DOMCharacterDataModified","DOMFocusIn","DOMFocusOut","DOMMouseScroll","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","dragdrop","dragexit","draggesture","overflow","overflowchanged","RadioStateChange","underflow","FSCommand","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBouncewindow","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime","behavior","xss:expression","javascript","alert","<script>","<\/script>","livescript","vbscript","\x3c!--","--\x3e","<?php","document.domain","sTYLe"],t=0;t<n.length;t++)e=e.replace(new RegExp(n[t],"gm"),"");return e},_html_popup_login:function(){var e=this;if(1!=this.getCookie("login_system")){var n=new Date;n.setMonth(n.getMonth()+12),document.cookie="login_system=1;expires="+n+";domain=."+defaultDomain+";path=/"}var t=encodeURIComponent(location.href.replace(/#.*?$/,""));1===device_env&&"undefined"!=typeof landingpage&&1===landingpage||1===e.check_responsive?$.magnificPopup.open({type:"iframe",items:{src:e.myvne_url+"/authen/users/login?refer=authen&view=redesign&host="+location.origin+"&return="+(e.isValidXSS(t)?t:encodeURIComponent(location.origin+location.pathname))},mainClass:"mfp-with-zoom mfp-myvne"}):$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:e.myvne_url+"/authen/users/login?refer=authen&host="+location.origin+"&return="+(e.isValidXSS(t)?t:encodeURIComponent(location.origin+location.pathname))},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"610px"})}}})},_html_popup_guest:function(){var e=this,n=e.config.input_extend?"?input_extend="+e.config.input_extend:"";$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:e.myvne_url+"/authen/users/guestpost"+n},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"610px"})}}})},_html_popup_invite:function(e,n,t){var o=this;o.fullname=t,$.ajax({type:"get",dataType:"json",data:{email:n},url:o.myvne_url+"/authen/users/checkemail",success:function(i){if(0==i.error)url="/authen/users/inviteregister?type="+e+"&email="+n+"&fullname="+t;else if(1==i.error){var a=encodeURIComponent(location.href.replace(/#.*?$/,""));url="/authen/users/login?type="+e+"&email="+n+"&fullname="+t+"&return="+(o.isValidXSS(a)?a:encodeURIComponent(location.origin+location.pathname))}$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:o.myvne_url+url},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"610px"})}}})},error:function(e,n){console.log(o._get_message("system_error"))}})},_html_popup_register:function(){$.magnificPopup.instance.close();if(1!=this.getCookie("login_system")){var e=new Date;e.setMonth(e.getMonth()+12),document.cookie="login_system=1;expires="+e+";domain=."+defaultDomain+";path=/"}var n=encodeURIComponent(location.href.replace(/#.*?$/,""));$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/register?host="+location.origin+"&return="+(this.isValidXSS(n)?n:encodeURIComponent(location.origin+location.pathname))},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"}),$(this.container).find(".mfp-iframe-scaler iframe").css({"min-height":"610px"})},beforeClose:function(){try{document.getElementById("iframe_register").contentWindow.postMessage("removesession","*")}catch(e){}}}})},_html_popup_success:function(e,n,t){var o,i;0==(o=e,(i=document.createRange().createContextualFragment(o)).querySelectorAll("*").forEach((function(e){e.parentNode.removeChild(e)})),!(i.textContent||"").trim())&&(e='<div class="width_common block_log block_log_onlytext">                    <div class="width_common tit_box">                        <p>'+e+"</p>                    </div>                </div>");var a='<div id="notice-popup" class="white-popup-myvne popup-notice"><div class="inner-popup">';return""!=n&&void 0!==n||(n=this.translate("Có lỗi xảy ra")),a+='<div class="title_popup_myvne title_notice width_common">'+n+'</div><div class="content_poup_myvne width_common content_log content_notice">',a+=e+"</div></div></div>",$.magnificPopup.open({items:{src:a,type:"inline",mainClass:"mfp-with-zoom mfp-myvne"},callbacks:{open:function(){$(".mfp-content").css({"min-height":"610px","max-width":"768px"})},close:function(){"function"==typeof t&&t()}}})},_html_popup_forgot:function(e){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/forgotpass?cache=1"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"})},afterClose:function(){$("#myvne_close_popup").unbind(),e&&self._redirect(e)}}})},_html_popup_resend_mail:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/resendactiveemail?cache=1"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"})}}})},updateprofile:function(e){this.profile=e.profile,this._set_user(),this._html_popup_success(e.message),this.processCallback("update_profile",this.profile)},_html_popup_profile:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/updateprofile"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"})}}})},_html_popup_change_password:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/authen/users/changepassword"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"})}}})},_html_popup_subscribe:function(){$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log popup-notice"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_guest" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:self.myvne_url+"/subscribe/register"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"610px","max-width":"768px"})}}})},setCookie:function(e,n,t){var o=location.hostname,i=o.substring(o.lastIndexOf(".",o.lastIndexOf(".")-1)+1);if(e=-1!=["sso","social_id","user_id","users_cache_token","remember_me","expired_notify","count_notify","tmp_notify"].indexOf(e)?this.cookieNameByHost(this.prefix_cookie+e):this.prefix_cookie+e,t){var a=new Date;a.setTime(a.getTime()+24*t*60*60*1e3);var s="; expires="+a.toGMTString()}else s="";void 0!==n&&(document.cookie=void 0===i?e+"="+n+s+";domain=."+defaultDomain+";path=/; secure;":e+"="+n+s+";domain=."+i+"; path=/; secure;")},setCookieSite:function(e,n,t){document.location.hostname;var o=document.domain;if(t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var a="; expires="+i.toGMTString()}else a="";void 0!==n&&(document.cookie=e+"="+n+a+";domain="+o+"; path=/; secure;")},getCookieWitoutPrefix:function(e){for(var n=e+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var i=t[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(n))return i.substring(n.length,i.length)}return null},getCookie:function(e,n){for(var t=null,o=e,i=(o=(n="boolean"!=typeof n||n)&&-1!=["sso","social_id","user_id","users_cache_token","remember_me","expired_notify","count_notify","tmp_notify"].indexOf(o)?this.cookieNameByHost(this.prefix_cookie+o):this.prefix_cookie+o)+"=",a=document.cookie.split(";"),s=0;s<a.length;s++){for(var r=a[s];" "==r.charAt(0);)r=r.substring(1,r.length);0==r.indexOf(i)&&(t=r.substring(i.length,r.length))}return null==t&&n&&(t=this.getCookie(e,!1)),t},deleteCookie:function(e){this.setCookie(e,"",-1)},_reset_user:function(){var e=this;e.notifycount=0,e.notifyoffset=0,e.profile={},clearTimeout(e.timeoutprofile),$("#myvne_taskbar").empty(),e._html_taskbar_not_login()},_set_user:function(){var e=this;parseInt(this.getCookie("user_id"))||e.setCookie("user_id",e.profile.user_id,365),e.setCookieSite("fosp_aid",e.profile.user_id,1),window.vne_myvne_id=e.profile.user_id,$("#myvne_user_logged").length?e._reload_profile():e._html_taskbar_profile(),isVNE&&e.block_notify_vne.init()},_reload_profile:function(){var e=this,n=e.profile.user_avatar.indexOf("/src/")>10?this.replaceAvatar(e.profile.user_avatar,"/c60x60/"):e.profile.user_avatar;if(n.indexOf("/img_60x60.gif")>0){var t=e.profile.user_email.charAt(0);e.profile.user_fullname&&e.profile.user_fullname.length>0&&(t=e.profile.user_fullname.charAt(0))}else t='<img src="'+n+'" width="25" height="25" alt="">';var o='<span class="avatar_inner">'+t+'</span>            <span class="name_user_av">'+(e.profile.user_fullname?e.profile.user_fullname:e.profile.user_email.substring(0,e.profile.user_email.lastIndexOf("@")))+"</span>";$("#myvne_avatar_taskbar").html(o),e.notifycount>0&&$("#myvne_notify_area").html('<span class="badged" id="myvne_notify_count">'+e.notifycount+"</span>")},_get_message:function(e){var n="";if("system_error"===e)n="";return n},_redirect:function(e){window.location=e},authentication:function(e,n){var t=this;if(null==myvne_users.getCookie("user_id"))switch(t.unsetCallback("authen"),t.setCallback("authen",e),n){case"member":t._html_popup_login();break;case"register":t._html_popup_register();break;default:t._html_popup_guest()}else t.runcallback(e,t.profile);return!1},runcallback:function(e,n){return e&&("function"==typeof e?e.call(this,n):"string"==typeof e&&"function"==typeof window[e]&&window[e](n)),self.callback="",!1},widgetgetuser:function(e,n){var t=this;n||(n=""),e&&$.ajax({type:"get",dataType:"jsonp",jsonpCallback:n,data:{myvne_users_id:e},url:t.myvne_url+"/apifrontend/getusersprofile",success:function(e){0==e.error||console.log(e.message)},error:function(e,n){console.log(t._get_message("system_error"))}})},replaceAvatar:function(e,n){return e.replace("/src/",n)},resend_mail_register:function(e){var n=this;return $("#resendemail_success").remove(),$("#resendemail").attr("style","display:none"),$("#resendemail_loadding").removeAttr("style"),$.ajax({type:"post",dataType:"json",url:n.myvne_url+"/authen/users/resendemail",data:{myvne_email:e},success:function(e){0==e.error?($("#resendemail").append('<p class="width_common tit_box mt15" id="resendemail_success">'+n.translate("Gửi lại thành công")+"</p>"),setTimeout((function(){$("#resendemail_success").remove()}),3e3),$("#resendemail").removeAttr("style"),$("#resendemail_loadding").attr("style","display:none")):($("#resendemail").removeAttr("style"),$("#resendemail").addClass("tit_box_error").html("<p>"+e.message+"</p>"))},error:function(e,t){alert(n._get_message("system_error"))}}),!1},anonymous:function(){$.magnificPopup.instance.close(),this.processCallback("anonymous"),this.setCookie("anonymous","anonymous",5)},_html_popup_close:function(){$.magnificPopup.close()},_html_popup_rule:function(){$.magnificPopup.instance.close();var e=this;$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_register" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:e.myvne_url+"/authen/users/rule"},mainClass:"mfp-with-zoom mfp-myvne",alignTop:!1,overflowY:"scroll",callbacks:{open:function(){$(this.container).find(".mfp-content").css({"min-height":"500px","max-width":"768px"})},afterClose:function(){e._html_popup_register()}}})},_html_popup_register_comment:function(e,n){$("body").append('<div id="myvne_create_account" style="position: fixed; right: 30px; bottom: 0; z-index: 9999; background: #fff;"><iframe width="320" height="420" id="iframe_register" class="mfp-iframe iframe_register" frameborder="0" allowfullscreen="" src="'+myvne_users.myvne_url+"/authen/users/registerv2?email="+n+"&name="+e+'"></iframe></div>')},_html_popup_rulev2:function(){$.magnificPopup.instance.close();$.magnificPopup.open({type:"iframe",iframe:{markup:'<div class="mfp-iframe-scaler white-popup-myvne popup-log"><div class="mfp-close"></div><iframe class="mfp-iframe iframe_register" frameborder="0" allowfullscreen></iframe></div></div>'},items:{src:this.myvne_url+"/authen/users/rule"},mainClass:"mfp-with-zoom mfp-myvne"})},_html_notify_confirm_email:function(){if(Object.keys(myvne_users.profile).length>0&&0===myvne_users.profile.status){var e='<div class="message_box" style="right: 35px; width: 320px; background: #fff; position: fixed; right: 80px; bottom: 0; z-index: 999; -webkit-box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.1); -moz-box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.1); box-shadow: 0px 4px 5px 3px rgba(0,0,0,0.1); font-family: Arial, Helvetica, sans-serif;">                                <span class="close_mess" onclick="closeMess()" style="width: 32px;height: 32px;background: #fff;border: 1px solid #E5E5E5;text-align: center; line-height: 32px; border-radius: 50%; cursor: pointer; position: absolute; top: -16px; right: -16px; color: #4F4F4F; font-size: 30px;">×</span>                                <div class="width_common tit_mess_box" style="color: #9F224E; font-size: 18px; font-weight: 700; padding: 10px 15px; border-bottom: 1px solid #9F224E;">'+this.translate("Thông báo")+'</div>                                <div class="width_common content_mess" style="padding: 15px; font-size: 15px;">                                    <p class="notice_p" style="line-height: 24px; margin-bottom: 20px;"><strong>'+this.translate("Mời xác thực email")+"</strong><br>                                        "+this.translate("Để đảm bảo an toàn cho tài khoản và có thể lấy lại mật khẩu bằng email")+'.                                    </p>                                    <p class="email_xt" style="color: #076DB6; font-weight: 700; max-width: 100%; overflow: hidden; text-overflow: ellipsis; text-align: center; white-space: nowrap; line-height: 24px; margin-bottom: 20px;">'+myvne_users.profile.user_email+'</p>                                    <div class="item_input_log item_button_act">                                        <button class="pri_button btn_log has_transition" data-email="'+myvne_users.profile.user_email+'" id="home_resendemail">'+this.translate("Xác thực ngay")+"</button>                                    </div>                                </div>                            </div>",n=this.getCookie("expired_notify"),t=parseInt(localStorage.getItem(myvne_users.cookieNameByHost("myvne_count_notify"))),o=parseInt(localStorage.getItem(myvne_users.cookieNameByHost("myvne_tmp_notify")));void 0!==t&&null!=t?n?0==o&&$(document.body).append(e):(localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),0),1===t?(this.setCookie("expired_notify",1,1),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),2),$(document.body).append(e)):2===t?(this.setCookie("expired_notify",1,7),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),3),$(document.body).append(e)):3===t?(this.setCookie("expired_notify",1,14),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),4),$(document.body).append(e)):4===t&&localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),999)):(this.setCookie("expired_notify",1,1),localStorage.setItem(myvne_users.cookieNameByHost("myvne_count_notify"),1),localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),0),$(document.body).append(e))}$(document).on("click","#home_resendemail",(function(){var e=this;localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),1),$(".message_box").hide();var n=$(this).data("email");return $.ajax({type:"post",dataType:"json",url:myvne_users.myvne_url+"/authen/users/resendemail",data:{myvne_email:n},success:function(t){if(0==t.error){var o=e.translate("Xác thực email"),i="";n.indexOf("gmail")>-1&&(i='<a href="https://mail.google.com/mail/u/0/?tab=rm#search/vnexpress" target="_blank"><span style="width: 13px;height: 13px;display: inline-block;color: #ccc;fill: currentColor;margin-left: 4px;">\n<svg id="new-tab" viewBox="0 0 32 32" width="100%" height="100%"><title>new-tab</title><path d="M21.647 3.765c-1.040 0-1.883-0.843-1.883-1.883s0.843-1.882 1.883-1.882h8.471c1.039 0 1.882 0.844 1.882 1.882v8.471c0 1.039-0.843 1.882-1.882 1.882s-1.882-0.843-1.882-1.882v-3.927l-10.905 10.904c-0.735 0.735-1.927 0.735-2.662 0s-0.735-1.927 0-2.662l10.904-10.904h-3.927zM28.235 17.883c0-1.040 0.843-1.882 1.882-1.882s1.882 0.843 1.882 1.882v12.235c0 1.039-0.843 1.882-1.882 1.882h-28.235c-1.039 0-1.882-0.843-1.882-1.882v-28.235c0-1.039 0.843-1.882 1.882-1.882h12.235c1.040 0 1.883 0.843 1.883 1.882s-0.843 1.883-1.883 1.883h-10.352v24.47h24.47v-10.353z"></path></svg></span></a>');var a='<div class="width_common block_log block_log_onlytext">                                                <div class="width_common tit_box">                                                    <p>'+e.translate("Kiểm tra email")+' </p>                                                    <p class="mt5">'+n+i+'</p>                                                    <p class="mt5">'+e.translate("Để xác thực email trên là của bạn")+'</p>                                                    <p class="mt5">'+e.translate("Hãy nhớ kiểm tra hòm thư rác")+'</p>                                                </div>                                                <div class="width_common tit_box mt40" id="resendemail">                                                    <p><a href="javascript:;" class="underline" onclick="myvne_users.resend_mail_register(\''+n+"')\">"+e.translate("Gửi lại email")+'</a></p>                                                </div>                                                <div style="display: none" class="width_common tit_box mt40" id="resendemail_loadding">'+e.translate("Đang gửi")+"...</div>                                            </div>";myvne_users._html_popup_success(a,o)}else alert(t.message)}}),!1}))},updateSettings:function(e,n){"object"!=typeof e||$.isEmptyObject(e)||(n?localStorage.setItem("myvne_settings",JSON.stringify(e)):$.ajax({url:this.myvne_url+"/users/update-settings",type:"get",dataType:"jsonp",jsonpCallback:"MyvneCallback",data:e,success:function(e){e.ok&&!$.isEmptyObject(e.data)&&(localStorage.setItem("myvne_settings",JSON.stringify(e.data)),myvne_users.profile.settings=e.data)}}))},clearSettings:function(){localStorage.removeItem("myvne_settings")},showInfoNewNotify:function(e=0){let n=e;e>9&&(n=e-9+"+"),$("#myvne_notify_area").html('<span class="badged" id="myvne_notify_count">'+n+"</span>")},updateStatusNewNotify:function(e=1,n=0){if(0!=this.notify_max_time){var t={time:this.notify_max_time,show:e,total:n};localStorage.setItem("myvne_new_notify",JSON.stringify(t)),1==e&&$("#myvne_notify_area").remove()}},checkNewNotify:function(){if($("#myvne_notify_lists [public-time].unread").length>0){var e=this,n=$("#myvne_notify_lists [public-time].unread");if(null==localStorage.getItem("myvne_new_notify"))n.each((function(n,t){var o=parseInt($(t).attr("public-time"));o>e.notify_max_time&&(e.notify_max_time=o)})),e.showInfoNewNotify(n.length),e.updateStatusNewNotify(0,n.length);else{var t=localStorage.getItem("myvne_new_notify");t=JSON.parse(t);var o=0;n.each((function(n,i){var a=parseInt($(i).attr("public-time"));a>e.notify_max_time&&(e.notify_max_time=a),a>t.time&&o++})),o>0?(1!=t.show||t.time<e.notify_max_time)&&(e.showInfoNewNotify(o),e.updateStatusNewNotify(0,o)):1!=t.show&&e.showInfoNewNotify(t.total)}}},importCssFile:function(e,n=null){if(e=(e=window.decodeURIComponent(e)).trim().replace(/\s/g,""),/^(:\/\/)/.test(e)?e=`https${e}`:/^(f|ht)tps?:\/\//i.test(e)||(e=css_url_vne+"/v2_2019/pc/"+e.replace(/^(\/)/,"")),document.querySelectorAll('link[href="'+e+'"]').length>0)"function"==typeof n&&n();else{var t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","Stylesheet"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t),"function"==typeof n&&(t.onload=()=>{n()})}},block_notify_vne:{get_block:function(){var e=this,n="",t=localStorage.getItem("myvne_hint_notify"),o=new Date;if(null==t){n='<div class="hint-area myvne-hint-notify">\n                                    Xem và bật nhận <strong>thông báo</strong> từ tòa soạn\n                                    <span class="close-hint close-myvne-hint-notify">×</span>\n                                </div>';var i={time:o.getTime(),count_show:1};localStorage.setItem("myvne_hint_notify",JSON.stringify(i))}else{i=JSON.parse(t);var a=(o.getTime()-i.time)/864e5,s=!1;if(i.count_show<3)switch(i.count_show){case 1:s=(o.getTime()-i.time)/36e5>=2;break;case 2:s=a>=7}else s=a>=28;s&&(n='<div class="hint-area myvne-hint-notify">\n                                        Xem và bật nhận <strong>thông báo</strong> từ tòa soạn\n                                        <span class="close-hint close-myvne-hint-notify">×</span>\n                                    </div>',i.count_show++,i.time=o.getTime(),localStorage.setItem("myvne_hint_notify",JSON.stringify(i)))}return`<li class="myvne_notification">\n                        <span class="dot-blue dot-blue-icon-bell" ${null==localStorage.getItem("click_icon_bell")?"":'style="display:none;"'}></span>\n                        <a href="javascript:;" class="myvne_icon_bell_click click-not-hide-notify" data-event-category="Article Link Click" data-event-action="${e.vn_source}|Box-ThongBao_${e.vn_term}" data-event-label="Item-Chuong">\n                            <svg class="click-not-hide-notify" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                <path class="click-not-hide-notify" d="M9.9979 2C13.1469 2 15.7418 4.33488 15.9824 7.3554L15.9958 7.57762L16.0003 7.80214L15.9993 11.398L16.9247 13.6202C16.9472 13.6743 16.9649 13.7302 16.9776 13.7871L16.9929 13.8733L17.0015 14.0046C17.0015 14.4526 16.705 14.8387 16.2524 14.9677L16.136 14.9945L16.0015 15.0046L12.4999 15.004L12.4949 15.1653C12.4098 16.469 11.3254 17.5 10.0003 17.5C8.67478 17.5 7.59022 16.4685 7.50558 15.1644L7.49986 15.004L3.99915 15.0046C3.9112 15.0046 3.82383 14.993 3.73927 14.9702L3.61481 14.9277C3.20403 14.7567 2.96206 14.3392 3.01246 13.8757L3.03354 13.7483L3.07596 13.6202L3.99926 11.401L4.00035 7.79281L4.00465 7.56824C4.12726 4.45115 6.77129 2 9.9979 2ZM11.4999 15.004H8.49986L8.50722 15.1454C8.57576 15.8581 9.143 16.425 9.8558 16.4931L10.0003 16.5C10.78 16.5 11.4207 15.9051 11.4934 15.1445L11.4999 15.004ZM9.9979 3C7.37535 3 5.22741 4.92372 5.0174 7.38498L5.00417 7.59723L5.00026 7.80214V11.5L4.96185 11.6922L3.99914 14.0046L15.9569 14.0066L16.0021 14.0045L15.0387 11.6922L15.0003 11.5L15.0004 7.81241L14.9963 7.60831C14.8911 5.0349 12.6949 3 9.9979 3Z" fill="#9F9F9F"></path>\n                            </svg>\n                        </a>\n                        ${n}\n                        <div id="myvne_notify_box_2023" class="myvne_content_notification" style="display:none;">\n                            <div class="tab-myvne flexbox">\n                                <a href="javascript:;" class="it-tab click-not-hide-notify tab-notice active" data-event-category="Article Link Click" data-event-action="${e.vn_source}|Box-ThongBao_${e.vn_term}" data-event-label="Item-ThongBao">\n                                    <svg class="click-not-hide-notify" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path class="click-not-hide-notify" d="M9.9979 2C13.1469 2 15.7418 4.33488 15.9824 7.3554L15.9958 7.57762L16.0003 7.80214L15.9993 11.398L16.9247 13.6202C16.9472 13.6743 16.9649 13.7302 16.9776 13.7871L16.9929 13.8733L17.0015 14.0046C17.0015 14.4526 16.705 14.8387 16.2524 14.9677L16.136 14.9945L16.0015 15.0046L12.4999 15.004L12.4949 15.1653C12.4098 16.469 11.3254 17.5 10.0003 17.5C8.67478 17.5 7.59022 16.4685 7.50558 15.1644L7.49986 15.004L3.99915 15.0046C3.9112 15.0046 3.82383 14.993 3.73927 14.9702L3.61481 14.9277C3.20403 14.7567 2.96206 14.3392 3.01246 13.8757L3.03354 13.7483L3.07596 13.6202L3.99926 11.401L4.00035 7.79281L4.00465 7.56824C4.12726 4.45115 6.77129 2 9.9979 2ZM11.4999 15.004H8.49986L8.50722 15.1454C8.57576 15.8581 9.143 16.425 9.8558 16.4931L10.0003 16.5C10.78 16.5 11.4207 15.9051 11.4934 15.1445L11.4999 15.004ZM9.9979 3C7.37535 3 5.22741 4.92372 5.0174 7.38498L5.00417 7.59723L5.00026 7.80214V11.5L4.96185 11.6922L3.99914 14.0046L15.9569 14.0066L16.0021 14.0045L15.0387 11.6922L15.0003 11.5L15.0004 7.81241L14.9963 7.60831C14.8911 5.0349 12.6949 3 9.9979 3Z" fill="#9F9F9F"></path>\n                                    </svg>\n                                    Thông báo\n                                </a>\n                                <a href="javascript:;" class="it-tab click-not-hide-notify tab-comment" data-event-category="Article Link Click" data-event-action="${e.vn_source}|Box-ThongBao_${e.vn_term}" data-event-label="Item-YKien">\n                                    <span class="dot-blue click-not-hide-notify" style="display:none;"></span>\n                                    <svg class="click-not-hide-notify" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path class="click-not-hide-notify" d="M10.4809 13.8423H15.4C16.2962 13.8423 17 13.1288 17 12.2764V5.56582C17 4.71348 16.2962 4 15.4 4H4.6C3.70383 4 3 4.71348 3 5.56582V12.2764C3 13.1288 3.70383 13.8423 4.6 13.8423H6.19909L6.2 17L6.20347 16.9997L6.20502 16.9988L10.4809 13.8423ZM6.79895 17.8034C6.35669 18.1298 5.73 18.0406 5.39921 17.6042C5.26989 17.4335 5.2 17.2262 5.2 17.0133L5.19938 14.8423H4.6C3.16406 14.8423 2 13.6935 2 12.2764V5.56582C2 4.14876 3.16406 3 4.6 3H15.4C16.8359 3 18 4.14876 18 5.56582V12.2764C18 13.6935 16.8359 14.8423 15.4 14.8423H10.81L6.79895 17.8034Z" fill="#4F4F4F"></path>\n                                    </svg>\n                                    Ý kiến\n                                </a>\n                                <a href="javascript:;" class="it-tab click-not-hide-notify tab-news" data-event-category="Article Link Click" data-event-action="${e.vn_source}|Box-ThongBao_${e.vn_term}" data-event-label="Item-DaXem">\n                                    <svg class="click-not-hide-notify" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                        <path class="click-not-hide-notify" d="M3.83338 1.99658L3.92326 2.00464C4.12735 2.04168 4.28829 2.20261 4.32533 2.40671L4.33338 2.49658L4.33272 4.70811C5.49767 3.38497 7.08183 2.46636 8.8755 2.13393C13.2198 1.32876 17.3943 4.19779 18.1994 8.54208C19.0046 12.8864 16.1356 17.0608 11.7913 17.866C7.44696 18.6712 3.27243 15.8021 2.46726 11.4579C2.38055 10.99 2.30971 10.1384 2.33753 9.47877C2.34916 9.20287 2.58225 8.98864 2.85815 9.00028C3.13404 9.01191 3.34827 9.245 3.33664 9.5209C3.31219 10.1008 3.37684 10.8781 3.45052 11.2756C4.15504 15.0769 7.80776 17.5873 11.609 16.8827C15.4103 16.1782 17.9207 12.5256 17.2162 8.72432C16.5116 4.92306 12.859 2.41266 9.05774 3.11718C7.21858 3.45805 5.63248 4.50195 4.59178 5.99546L7.83332 5.99658L7.9232 6.00464C8.15645 6.04697 8.33332 6.25112 8.33332 6.49658C8.33332 6.74204 8.15645 6.94619 7.9232 6.98853L7.83332 6.99658H3.83338L3.74351 6.98853C3.53942 6.95148 3.37848 6.79055 3.34144 6.58646L3.33338 6.49658V2.49658L3.34144 2.40671C3.37848 2.20261 3.53942 2.04168 3.74351 2.00464L3.83338 1.99658ZM9.83338 5.99658L9.92326 6.00464C10.1274 6.04168 10.2883 6.20261 10.3253 6.40671L10.3334 6.49658V10.5H12.3334L12.4233 10.508C12.6565 10.5504 12.8334 10.7545 12.8334 11C12.8334 11.2454 12.6565 11.4496 12.4233 11.4919L12.3334 11.5H9.83338L9.74351 11.4919C9.53942 11.4549 9.37848 11.2939 9.34144 11.0898L9.33338 11V6.49658L9.34144 6.40671C9.37848 6.20261 9.53942 6.04168 9.74351 6.00464L9.83338 5.99658Z" fill="#4F4F4F"></path>\n                                    </svg>\n                                    Tin đã xem\n                                </a>\n                            </div>\n                            <div class="content-notify">\n                                \x3c!--THÔNG BÁO--\x3e\n                                <div class="inner-scroll-notify">\n                                    <a href="javascript:;" class="btn-notice click-not-hide-notify" style="display:none;" data-event-category="Article Link Click" data-event-action="${e.vn_source}|Box-ThongBao_${e.vn_term}" data-event-label="Item-ThongBao_NhanThongBao">\n                                        <svg class="click-not-hide-notify" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                            <path class="click-not-hide-notify" d="M3.50001 6.5C3.50001 4.01472 5.51473 2 8.00001 2C10.4853 2 12.5 4.01472 12.5 6.5V8.40371L13.4642 10.8143C13.5259 10.9684 13.5071 11.1429 13.414 11.2803C13.321 11.4177 13.1659 11.5 13 11.5H3C2.83409 11.5 2.67898 11.4177 2.58597 11.2803C2.49295 11.1429 2.47415 10.9683 2.53576 10.8143L3.50001 8.40371V6.5ZM6.06245 12.5C6.28327 13.3647 7.06443 14 8 14C8.93557 14 9.71673 13.3647 9.93755 12.5H6.06245Z" fill="white"></path>\n                                        </svg>\n                                        Bật nhận thông báo\n                                    </a>\n                                    <div class="list-noti list-n content-news">\n                                    \n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </li>`},call_events:function(){void 0!==window.WPN&&(null==window.WPN.getTokenLocal()?$(".btn-notice").show():$(".btn-notice").remove());var e=this;$(".close-myvne-hint-notify").length>0&&($(".close-myvne-hint-notify").click((function(e){$(this).closest(".myvne-hint-notify").remove()})),new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&"class"===e.attributeName&&e.target.classList.contains("sticky")&&$(".close-myvne-hint-notify").trigger("click")}))})).observe(document.querySelector("#wrap-main-nav"),{attributes:!0}));$(".it-tab").click((function(n){$(".content-news").html(""),$(".it-tab").removeClass("active"),$(this).addClass("active"),$(this).hasClass("tab-notice")&&e.load_tab_notify(),$(this).hasClass("tab-comment")&&e.load_tab_comment(),$(this).hasClass("tab-news")&&($(".btn-notice").hide(),e.load_tab_readed())})),$(".myvne_icon_bell_click").click((function(e){$(".myvne-hint-notify").remove(),localStorage.setItem("click_icon_bell",1),$(".myvne_notification .dot-blue-icon-bell").hide(),$("#myvne_notify_box_2023").hasClass("active")?($("#myvne_notify_box_2023").hide(),$("#myvne_notify_box_2023").removeClass("active")):($("#myvne_notify_box_2023").show().attr("style",""),$("#myvne_notify_box_2023").addClass("active"),$(".tab-notice").trigger("click"))})),$(document).on("click",(function(e){$("#myvne_notify_box_2023").hasClass("active")&&([...e.target.classList].includes("click-not-hide-notify")||($("#myvne_notify_box_2023").hide(),$("#myvne_notify_box_2023").removeClass("active")))})),$(".inner-scroll-notify").scroll((function(n){if($(this).scrollTop()+$(this).height()>=$(this)[0].scrollHeight-250){var t=$(".it-tab.active");t.hasClass("tab-comment")?e._get_notify_vne(!0):t.hasClass("tab-news")&&e.load_tab_readed(!0)}}))},notify_news:[],readed_news:[],read_page:1,data_comment:"",is_busy_lazy:!1,viewmore_comment:!0,viewmore_readed:!0,vn_source:document.querySelector("body").getAttribute("data-source"),vn_term:"Desktop",format_time:function(e){var n=((new Date).getTime()-1e3*e)/36e5;if(n<=24)return n<1?parseInt(60*n)+"' trước":parseInt(n)+"h trước";var t=new Date(1e3*e);return(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+", "+t.getDate()+"/"+(t.getMonth()+1)},html_list_news:function(e=[],n=!1){var t=this;if(0==e.length)return"";var o="";if(n)for(var i in e){var a=void 0!==e[i].title&&""!=e[i].title?e[i].title:e[i].content,s="#vn_source="+t.vn_source+"&vn_campaign=Box-ThongBao&vn_medium=Item-"+(parseInt(i)+1)+"&vn_term="+t.vn_term;o+=`<a href="${e[i].share_url}${s}" title="${a}" class="link-noti">\n                                <span class="meta-noti">\n                                    <span class="folder">${e[i].cate_name}</span>\n                                    <span class="time">${t.format_time(e[i].push_time)}</span>\n                                </span>\n                                <span class="title-n">${a}</span>\n                            </a>`}else for(var i in e){var r=void 0!==e[i].a_cate_name?e[i].a_cate_name[0]:"";""!=r&&(r='<span class="folder">'+(r=r.charAt(0).toUpperCase()+r.slice(1))+"</span>");s="#vn_source="+t.vn_source+"&vn_campaign=Box-ThongBao_DaXem&vn_medium=Item-"+(parseInt(i)+1)+"&vn_term="+t.vn_term;o+=`<a href="${e[i].share_url}${s}" title="${e[i].title}" class="link-noti">\n                                <span class="meta-noti">\n                                    ${r}\n                                    <span class="time">${t.format_time(e[i].publish_time)}</span>\n                                </span>\n                                <span class="title-n">${e[i].title}</span>\n                            </a>`}return o},callback_btn_accept_notify:function(){var e=this;window.WPN.isAllowPushNotify()&&null==window.WPN.getTokenLocal()&&(e.register_notify(),$(".btn-notice").show()),(window.WPN.isAllowPushNotify()||null!=window.WPN.getTokenLocal())&&window.WPN.isAllowPushNotify()||$(".btn-notice").show(),$(".it-tab.active").hasClass("tab-notice")?$(".btn-notice").attr("data-event-label","Item-ThongBao_NhanThongBao"):($(".btn-notice").attr("data-event-label","Item-YKien_NhanThongBao"),0==Object.keys(myvne_users.profile).length&&$(".btn-notice").hide()),$(".btn-notice").unbind("click"),$(".btn-notice").click((function(n){if(null==window.WPN.getTokenLocal()&&window.WPN.isAllowPushNotify())e.register_notify();else{$(".btn-notice").hide();var t=e.get_block_explain();$(".content-news").html(t),$(".content-news .close-hd").click((function(e){$(".it-tab.active").trigger("click")}))}}))},load_tab_notify:function(){var e=this;if(0==e.notify_news.length)$.ajax({type:"get",url:"https://gw.vnexpress.net/notify/get_newest?site=vne",dataType:"json",success:function(n){if(void 0!==n.data&&n.data.length>0){e.notify_news=n.data;var t=e.html_list_news(e.notify_news,!0);$(".content-news").append(t),e.callback_btn_accept_notify()}}});else{var n=e.html_list_news(e.notify_news,!0);$(".content-news").append(n),e.callback_btn_accept_notify()}},load_tab_comment:function(){var e=this;if(0==Object.keys(myvne_users.profile).length){var n=`<div class="ctn-empty">\n                                <img src="${img_url_vne}/v2_2019/pc/graphics/icon-empty-noti.png" alt="">\n                                <p class="btn-log">\n                                    <a href="javascript:;" class="login_tab">Đăng nhập ngay</a>\n                                </p>\n                                <p class="txt-call">Đăng nhập để xem lại những ý kiến của bạn đã được đăng</p>\n                            </div>`;$(".content-news").html(n),$(".login_tab").click((function(){myvne_users._html_popup_login(),e.login_tab="tab-comment",$("#myvne_notify_box_2023").hide()}))}else e._get_notify_vne(),e.updateStatusNewNotify();e.callback_btn_accept_notify()},load_tab_readed:function(e=!1){var n=this;if(0==Object.keys(myvne_users.profile).length){var t=`<div class="ctn-empty">\n                                <img src="${img_url_vne}/v2_2019/pc/graphics/icon-empty-noti.png" alt="">\n                                <p class="btn-log">\n                                    <a href="javascript:;" class="login_tab">Đăng nhập ngay</a>\n                                </p>\n                                <p class="txt-call">Đăng nhập để xem lại những nội dung mà bạn đã đọc</p>\n                            </div>`;$(".content-news").html(t),$(".login_tab").click((function(){myvne_users._html_popup_login(),n.login_tab="tab-news",$("#myvne_notify_box_2023").hide()}))}else if(0==n.readed_news.length||e)!n.is_busy_lazy&&n.viewmore_readed&&(n.is_busy_lazy=!0,$.ajax({type:"get",dataType:"jsonp",cache:!0,url:myvne_users.myvne_url+"/users/loadreadarticle",data:{page:n.read_page,not_html:1},success:function(e){if(1==e.error)n.viewmore_readed=!1;else if(void 0!==e.message&&e.message.length>0){n.read_page=e.page,n.readed_news=n.readed_news.concat(e.message);var t=n.html_list_news(e.message);$(".content-news").append(t)}else $(".content-news").html('<div class="ctn-empty"><p class="txt-empty">Bạn chưa có hoạt động nào.</p></div>');n.is_busy_lazy=!1}}));else if(n.readed_news.length>0){var o=n.html_list_news(n.readed_news);$(".content-news").html(o)}else $(".content-news").html('<p class="txt-empty">Bạn chưa có hoạt động nào.</p>')},device_info:void 0!==window.WPN&&void 0!==window.WPN.getInfoDevice?window.WPN.getInfoDevice():null,get_block_explain:function(){var e="",n="";switch(this.device_info.browser){case"safari":n='<img src="'+img_url_vne+'/v2_2019/pc/graphics/img-tb-safari.png" alt="">',e='<div class="step-on">\n                                            <p>1. Nhấn "Safari" và mở "Setting"</p>\n                                            <p>2. Tìm vnexpress.net và chọn cho phép</p>\n                                            <p>3. Tải lại trang</p>\n                                        </div>';break;case"edge":n='<img src="'+img_url_vne+'/v2_2019/pc/graphics/img-tb-edge.png" alt="">',e='<div class="step-on">\n                                        <p>1. Nhấn icon ổ khóa trên thanh URL của trình duyệt</p>\n                                        <p>2. Tìm “Thông báo” và chọn cho phép</p>\n                                        <p>3. Tải lại trang</p>\n                                    </div>';break;default:n='<img src="'+img_url_vne+'/v2_2019/pc/graphics/img-tb-chrome.jpg" alt="">',e='<div class="step-on">\n                                        <p>1. Nhấn icon ổ khóa trên thanh URL của trình duyệt</p>\n                                        <p>2. Tìm “Thông báo” và chọn cho phép</p>\n                                        <p>3. Tải lại trang</p>\n                                    </div>'}return`\n                        <span class="close-hd click-not-hide-notify">×</span>\n                        <div class="title-notice">Cho phép hiển thị thông báo</div>\n                        ${e}\n                        ${n}\n                    `},register_notify:async function(){if(await window.WPN.isFirebaseSupported()){var e=window.WPN.getFirebaseMessaging();window.WPN.notifyRegistration(e,(function(){$(".btn-notice").remove()}))}},_get_notify_vne:function(e=!1){var n=this;if(!($(".myvne_nofify_item").length>0&&$(".myvne_nofify_item").length<myvne_users.notifylimit))if(""==n.data_comment||e)!n.is_busy_lazy&&n.viewmore_comment&&(n.is_busy_lazy=!0,$.ajax({type:"get",dataType:"jsonp",cache:!0,data:{offset:myvne_users.notifyoffset,limit:myvne_users.notifylimit,is_vne:!0},url:myvne_users.myvne_url+"/authen/users/notify",success:function(e){var t=e;if(myvne_users.notifyoffset=myvne_users.notifyoffset+myvne_users.notifylimit,n.data_comment+=t.html,n.is_check_comment_notify){var o=`<div class="list-noti list-com">\n                                                        ${t.html}\n                                                    </div>`;0==t.viewmore?(n.viewmore_comment=!1,myvne_users.notifyoffset-myvne_users.notifylimit==0&&$(".content-news").append(o)):($(".content-news").append(o),n.event_read_comment()),n.is_busy_lazy=!1}else{n.is_check_comment_notify=!0;var i=$(t.html),a=[];for(var s in i)"object"==typeof i[s]&&void 0!==$(i[s]).attr("public-time")&&$(i[s]).hasClass("unread")&&a.push($(i[s]));if(a.length>0)if(null==localStorage.getItem("myvne_new_notify"))a.forEach((function(e){var n=parseInt($(e).attr("public-time"));n>myvne_users.notify_max_time&&(myvne_users.notify_max_time=n)})),n.show_dot(),n.updateStatusNewNotify(0,a.length);else{var r=localStorage.getItem("myvne_new_notify");r=JSON.parse(r);var l=0;a.forEach((function(e){var n=parseInt($(e).attr("public-time"));n>myvne_users.notify_max_time&&(myvne_users.notify_max_time=n),n>r.time&&l++})),l>0?(1!=r.show||r.time<myvne_users.notify_max_time)&&(n.show_dot(),n.updateStatusNewNotify(0,l)):1!=r.show&&n.show_dot()}n.is_busy_lazy=!1,null!=n.login_tab&&($(".myvne_icon_bell_click").trigger("click"),$(".it-tab").removeClass("active"),$("."+n.login_tab).addClass("active").trigger("click"))}}}));else{var t=`<div class="list-noti list-com">\n                                    ${n.data_comment}\n                                </div>`;$(".content-news").html(t),n.event_read_comment()}},login_tab:null,init:function(){var e=this;myvne_users.importCssFile(css_url_vne+"/v2_2019/pc/myvne-2023-PC.css",(function(){if(void 0===window.WPN){var n=("undefined"!=typeof js_url_vne&&js_url_vne?js_url_vne:"demo.vnexpress.net"==window.location.hostname?"https://st-demo.vnecdn.net/vnexpress/restruct/j/v138":"https://s1.vnecdn.net/vnexpress/restruct/j/v4192")+"/v3/production/wpn.js";myvne_users.addScripts(n,!1,(function(){e.device_info=void 0!==window.WPN&&void 0!==window.WPN.getInfoDevice?window.WPN.getInfoDevice():null}))}if(Object.keys(myvne_users.profile).length>0){var t=e.get_block();$("#myvne").addClass("myvne_taskbar_2023"),$(".myvne_notification").replaceWith(t),e._get_notify_vne()}else{var o=`<div id="myvne" class="myvne_taskbar myvne_taskbar_2023">\n                                        <div class="myvne_container">\n                                            <ul class="myvne_form_log">\n                                                <li>\n                                                    <a href="javascript:void(0);" class="log_txt myvne_login_button" title="${myvne_users.translate("Đăng nhập")}">\n                                                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n                                                            <path d="M10 2C7.79086 2 6 3.79086 6 6C6 8.20914 7.79086 10 10 10C12.2091 10 14 8.20914 14 6C14 3.79086 12.2091 2 10 2ZM7 6C7 4.34315 8.34315 3 10 3C11.6569 3 13 4.34315 13 6C13 7.65685 11.6569 9 10 9C8.34315 9 7 7.65685 7 6ZM5.00873 11C3.90315 11 3 11.8869 3 13C3 14.6912 3.83281 15.9663 5.13499 16.7966C6.41697 17.614 8.14526 18 10 18C11.8547 18 13.583 17.614 14.865 16.7966C16.1672 15.9663 17 14.6912 17 13C17 11.8956 16.1045 11 15 11L5.00873 11ZM4 13C4 12.4467 4.44786 12 5.00873 12L15 12C15.5522 12 16 12.4478 16 13C16 14.3088 15.3777 15.2837 14.3274 15.9534C13.2568 16.636 11.7351 17 10 17C8.26489 17 6.74318 16.636 5.67262 15.9534C4.62226 15.2837 4 14.3088 4 13Z" fill="#9F9F9F"></path>\n                                                        </svg>\n                                                        ${myvne_users.translate("Đăng nhập")}\n                                                    </a>\n                                                </li>\n                                                ${e.get_block()} \n                                            </ul>\n                                        </div>\n                                    </div>`;$("#myvne_taskbar").html(o)}e.call_events()}))},is_check_comment_notify:!1,show_dot:function(){$(".dot-blue-icon-bell").show(),$(".tab-comment .dot-blue").show()},updateStatusNewNotify:function(e=1,n=0){if(0!=myvne_users.notify_max_time){var t={time:myvne_users.notify_max_time,show:e,total:n};localStorage.setItem("myvne_new_notify",JSON.stringify(t)),1==e&&$(".tab-comment .dot-blue").hide()}},event_read_comment:function(){var e=this;$(".myvne_nofify_item").each((function(n,t){var o="#vn_source="+e.vn_source+"&vn_campaign=Box-ThongBao_YKien&vn_medium=Item-"+(parseInt(n)+1)+"&vn_term="+e.vn_term,i=$(t).attr("href")+o;$(t).attr("href",i)})),$(".myvne_nofify_item").on("click",(function(e){e.preventDefault();var n=$(this).attr("data-id"),t=$(this).attr("href");n&&$.ajax({type:"get",dataType:"jsonp",data:{notify_id:n},url:myvne_users.myvne_url+"/authen/users/changenotifystatus",success:function(e){myvne_users._redirect(t)},error:function(){console.log(myvne_users._get_message("system_error"))}})}))}}};function MyvneCallback(e){}function closeMess(){localStorage.setItem(myvne_users.cookieNameByHost("myvne_tmp_notify"),1),$(".message_box").remove()}if($(document).ready((function(){setTimeout((function(){myvne_users._html_notify_confirm_email(),void 0!==myvne_users.action&&"error"===myvne_users.action&&void 0!==myvne_users.message&&myvne_users._html_popup_success(myvne_users.message)}),3e3)})),"en"==myvne_users.language&&(null==myvne_users.getCookie("user_id")?myvne_users.setCookie("sub_track",0,30):null!=myvne_users.getCookie("sub_track")&&0!=myvne_users.getCookie("sub_track")||myvne_users.setCookie("sub_track",1,30),function(e,n){"function "==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n():e.md5=n()}(this,(function(){function e(e,n){var s=t(s=e[0],m=e[1],c=e[2],r=e[3],n[0],7,-680876936),r=t(r,s,m,c,n[1],12,-389564586),c=t(c,r,s,m,n[2],17,606105819),m=t(m,c,r,s,n[3],22,-1044525330);s=t(s,m,c,r,n[4],7,-176418897),r=t(r,s,m,c,n[5],12,1200080426),c=t(c,r,s,m,n[6],17,-1473231341),m=t(m,c,r,s,n[7],22,-45705983),s=t(s,m,c,r,n[8],7,1770035416),r=t(r,s,m,c,n[9],12,-1958414417),c=t(c,r,s,m,n[10],17,-42063),m=t(m,c,r,s,n[11],22,-1990404162),s=t(s,m,c,r,n[12],7,1804603682),r=t(r,s,m,c,n[13],12,-40341101),c=t(c,r,s,m,n[14],17,-1502002290),s=o(s,m=t(m,c,r,s,n[15],22,1236535329),c,r,n[1],5,-165796510),r=o(r,s,m,c,n[6],9,-1069501632),c=o(c,r,s,m,n[11],14,643717713),m=o(m,c,r,s,n[0],20,-373897302),s=o(s,m,c,r,n[5],5,-701558691),r=o(r,s,m,c,n[10],9,38016083),c=o(c,r,s,m,n[15],14,-660478335),m=o(m,c,r,s,n[4],20,-405537848),s=o(s,m,c,r,n[9],5,568446438),r=o(r,s,m,c,n[14],9,-1019803690),c=o(c,r,s,m,n[3],14,-187363961),m=o(m,c,r,s,n[8],20,1163531501),s=o(s,m,c,r,n[13],5,-1444681467),r=o(r,s,m,c,n[2],9,-51403784),c=o(c,r,s,m,n[7],14,1735328473),s=i(s,m=o(m,c,r,s,n[12],20,-1926607734),c,r,n[5],4,-378558),r=i(r,s,m,c,n[8],11,-2022574463),c=i(c,r,s,m,n[11],16,1839030562),m=i(m,c,r,s,n[14],23,-35309556),s=i(s,m,c,r,n[1],4,-1530992060),r=i(r,s,m,c,n[4],11,1272893353),c=i(c,r,s,m,n[7],16,-155497632),m=i(m,c,r,s,n[10],23,-1094730640),s=i(s,m,c,r,n[13],4,681279174),r=i(r,s,m,c,n[0],11,-358537222),c=i(c,r,s,m,n[3],16,-722521979),m=i(m,c,r,s,n[6],23,76029189),s=i(s,m,c,r,n[9],4,-640364487),r=i(r,s,m,c,n[12],11,-421815835),c=i(c,r,s,m,n[15],16,530742520),s=a(s,m=i(m,c,r,s,n[2],23,-995338651),c,r,n[0],6,-198630844),r=a(r,s,m,c,n[7],10,1126891415),c=a(c,r,s,m,n[14],15,-1416354905),m=a(m,c,r,s,n[5],21,-57434055),s=a(s,m,c,r,n[12],6,1700485571),r=a(r,s,m,c,n[3],10,-1894986606),c=a(c,r,s,m,n[10],15,-1051523),m=a(m,c,r,s,n[1],21,-2054922799),s=a(s,m,c,r,n[8],6,1873313359),r=a(r,s,m,c,n[15],10,-30611744),c=a(c,r,s,m,n[6],15,-1560198380),m=a(m,c,r,s,n[13],21,1309151649),s=a(s,m,c,r,n[4],6,-145523070),r=a(r,s,m,c,n[11],10,-1120210379),c=a(c,r,s,m,n[2],15,718787259),m=a(m,c,r,s,n[9],21,-343485551),e[0]=l(s,e[0]),e[1]=l(m,e[1]),e[2]=l(c,e[2]),e[3]=l(r,e[3])}function n(e,n,t,o,i,a){return n=l(l(n,e),l(o,a)),l(n<<i|n>>>32-i,t)}function t(e,t,o,i,a,s,r){return n(t&o|~t&i,e,t,a,s,r)}function o(e,t,o,i,a,s,r){return n(t&i|o&~i,e,t,a,s,r)}function i(e,t,o,i,a,s,r){return n(t^o^i,e,t,a,s,r)}function a(e,t,o,i,a,s,r){return n(o^(t|~i),e,t,a,s,r)}var s="0123456789abcdef".split("");function r(n){return function(e){for(var n=0;n<e.length;n++)e[n]=function(e){for(var n="",t=0;t<4;t++)n+=s[e>>8*t+4&15]+s[e>>8*t&15];return n}(e[n]);return e.join("")}(function(n){txt="";for(var t=n.length,o=[1732584193,-271733879,-1732584194,271733878],i=64;i<=n.length;i+=64)e(o,function(e){var n,t=[];for(n=0;n<64;n+=4)t[n>>2]=e.charCodeAt(n)+(e.charCodeAt(n+1)<<8)+(e.charCodeAt(n+2)<<16)+(e.charCodeAt(n+3)<<24);return t}(n.substring(i-64,i)));n=n.substring(i-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(i=0;i<n.length;i++)a[i>>2]|=n.charCodeAt(i)<<(i%4<<3);if(a[i>>2]|=128<<(i%4<<3),55<i)for(e(o,a),i=0;i<16;i++)a[i]=0;return a[14]=8*t,e(o,a),o}(n))}function l(e,n){return e+n&4294967295}function l(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}return r("hello"),r})),null==myvne_users.getCookie("vtfp")||null==myvne_users.getCookieWitoutPrefix("_vtfps")||null==myvne_users.getCookieWitoutPrefix("_vtfpc")||md5(myvne_users.getCookieWitoutPrefix("_vtfps")+myvne_users.getCookie("vtfp"))!=myvne_users.getCookieWitoutPrefix("_vtfpc"))){var _script=document.createElement("script"),_js_url=document.querySelector('script[src*="/myvne_"]').src.replace(/\/[^\/]*$/g,"");_script.async=!0,_script.src=_js_url+"/plugins/fp.js",document.head.appendChild(_script)}